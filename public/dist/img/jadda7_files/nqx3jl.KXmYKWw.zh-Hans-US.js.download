(this.$WP=this.$WP||[]).push(["nqx3jl",(e,r)=>{var i,n,a,t,s,c,d,l,f,u,_,o,b={priceContainer:"SHEsJ f",tieredPriceContainer:"VfnDB f"},p=({specialPrice:e,retailPrice:r,isTiered:a,isGroupPricing:t})=>{var l=d();if(0===r)return i(s,{color:"primaryText",variant:"supporting-01",children:[n(c,{id:"plus_checkout_free",messages:"免费"})," "]});if(!r)return null;var u=e=>Number.isInteger(e)?l.formatCurrencyInteger(e):l.formatCurrency(e),_=null!==e&&r!==e,o=_?n(f,{marginLeft:"spacing-01",variant:"supporting-01",price:u(r),textColor:"primaryText"}):u(r),p=a&&!t?n("div",{className:b.tieredPriceContainer,children:n(c,{id:"from_price_fffff32b",args:{0:n(s,{color:"primaryText",marginLeft:_?"spacing-00":"spacing-01",variant:"supporting-01",children:o})},messages:"{0} 起"})}):o;return t?n(s,{color:"primaryText",variant:"supporting-01",children:n("div",{className:b.priceContainer,children:_?n(c,{id:"fusion_attractions_from_price_per_group_strikethrough_txt",args:{strikeThroughPrice:p,price:n(s,{elementType:"span",variant:"title-05",color:"strikethroughText",marginX:"spacing-01",children:u(e)})},messages:"团体价格低至 {strikeThroughPrice}{price}"}):n(c,{id:"phoenix_list_attractions_from_price_per_group_txt_v2",args:{price:p},messages:"每个团体 {price} 起"})})}):i("div",{className:b.priceContainer,children:[n(s,{color:"primaryText",variant:"supporting-01",children:p}),_&&e&&n(s,{elementType:"span",variant:"title-05",color:"strikethroughText",marginLeft:"spacing-01",children:u(e)})]})},g={ageBandWrapper:"f u k"},m=(e,r,i,n)=>Math.min(null==e?10:e,(null==r?10:r)-n+i),h=(e,r)=>{switch(r){case"CHILD":return e.string("儿童","phoenix_picker_children");case"INFANT":return e.string("婴幼儿","phoenix_picker_infants");case"YOUTH":return e.string("青少年","phoenix_picker_youths");case"SENIOR":return e.string("老年人","phoenix_picker_seniors");default:return e.string("成人","phoenix_picker_adults")}},k=(e,r)=>{switch(r){case"CHILD":return e.string("增加预订中的儿童数量","fusion_picker_children_plus_label");case"INFANT":return e.string("增加预订中的婴幼儿数量","fusion_picker_infants_plus_label");case"YOUTH":return e.string("增加预订中的青少年数量","fusion_picker_youths_plus_label");case"SENIOR":return e.string("增加预订中的老年人数量","fusion_picker_seniors_plus_label");default:return e.string("增加预订中的成人数量","fusion_picker_adults_plus_label")}},x=(e,r)=>{switch(r){case"CHILD":return e.string("减少预订中的儿童数量","fusion_picker_children_minus_label");case"INFANT":return e.string("减少预订中的婴幼儿数量","fusion_picker_infants_minus_label");case"YOUTH":return e.string("减少预订中的青少年数量","fusion_picker_youths_minus_label");case"SENIOR":return e.string("减少预订中的老年人数量","fusion_picker_seniors_minus_label");default:return e.string("减少预订中的成人数量","fusion_picker_adults_minus_label")}},v=(e,r,i)=>null!=r&&null!=i?e.string("{0} 岁至 {1} 岁","exp_age_from_to",{0:r,1:i}):void 0,T=({ageBand:e,startAge:r,endAge:a,currentValue:c,travelerCount:d,onChange:f,maxTotalTravelers:u,ageBandPricing:_,isTieredPricing:o=!1,isGroupPricing:b=!1})=>{var T=m(e.maxTravelersPerBooking,u,c,d),{localize:B}=l(),y=h(B,e.ageBand),P=v(B,r,a),N=`availability${e.ageBand}`,C={minusButton:{"data-automation":"decreaseGuests"},label:{"data-automation":"guestNumber"},plusButton:{"data-automation":"increaseGuests"}};return _?i("div",{className:g.ageBandWrapper,"data-automation":N,children:[i("div",{children:[y&&n(s,{elementType:"span",variant:"title-04",children:y}),P&&n(s,{elementType:"span",variant:"supporting-01",marginLeft:"spacing-01",children:P}),n(p,{retailPrice:_.retailPrice??null,specialPrice:_.specialPrice??null,isTiered:o,isGroupPricing:b})]}),n(t,{onStepChange:r=>f(e.ageBand,r),plusLabel:k(B,e.ageBand),minusLabel:x(B,e.ageBand),rangeMin:e.minTravelersPerBooking||0,rangeMax:T,currentStepValue:c,dataAttributes:C})]}):n("div",{"data-automation":N,children:n(t,{label:y,secondaryText:P,onStepChange:r=>f(e.ageBand,r),plusLabel:k(B,e.ageBand),minusLabel:x(B,e.ageBand),rangeMin:e.minTravelersPerBooking||0,rangeMax:T,currentStepValue:c,dataAttributes:C})})},B=(e,r)=>o[e]-o[r],y=({passengerInfo:e,selections:r,onAgeBandChange:t,errorMessage:s,ageBandsPricing:c})=>{var d=a(()=>Array.from(r.entries()).reduce((e,[,r])=>e+r,0),[r]);return i("div",{className:"ZRcfh A",children:[e.ageBands&&e.ageBands.filter(Boolean).filter(e=>e.maxTravelersPerBooking&&e.maxTravelersPerBooking>0).sort((e,r)=>B(e.ageBand,r.ageBand)).map(i=>n(_,{ageBand:i,startAge:i.startAge,endAge:i.endAge,maxTotalTravelers:e.maxTravelersForBooking,currentValue:r.get(i.ageBand)||0,travelerCount:d,onChange:t,isTieredPricing:e.perAgeBandPricing?.isTiered||!1,isGroupPricing:e.perAgeBandPricing?.groupPricing||!1,ageBandPricing:c?.find(e=>e?.ageBand===i.ageBand)},i.ageBand)),null!=s&&n("div",{dangerouslySetInnerHTML:{__html:s}})]})};return[()=>{_=T,o=u({ADULT:1,SENIOR:2,YOUTH:3,CHILD:4,INFANT:5}),e("default",y)},[e=>(i=e.jsxs,n=e.jsx),e=>a=e.useMemo,e=>t=e.default,e=>s=e.default,e=>(c=e.default,d=e.useIntlFormatter,l=e.useLocalize),e=>f=e.StrikethroughPrice,e=>u=e.readOnly]]},["21h32l","o4yt4q","gmrl4q","essqvy","7thqz4","ec91du","5vmpsm"]]);
