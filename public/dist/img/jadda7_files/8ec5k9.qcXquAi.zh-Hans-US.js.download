(this.$WP=this.$WP||[]).push(["8ec5k9",(e,a)=>{var t,n,r,i,o,d,l,c,s,m,f,h,b,_,g,u,p,y,v,D,w,M,k,N,P,x,F={daysOfWeek:"mNbtk f",week:"IxycC f",dayOfWeek:"hBVff c",day:"loUIs f c z _S V",stickyDaysOfWeekHeader:"upxpS t Za",hidden:"Uszhs",dayOfWeekFontSize:"zLqtL",dayOfWeekFontSizeSmall:"YHJNi",monthName:"tXvFj c",spaced:"qvbKc",variantNumericTabularNums:"rzEGW",heatmap:"wocXq",selected:"jUySd",withPrice:"VJTRE",medium:"gVFqf",disabled:"wvANG",outside:"HmFIY",inner:"dmvUE",strikethrough:"lDehx",datePrice:"hxNeQ",startDate:"gqqQx",endDate:"GGQgr",firstDayOfWeek:"jsRVM",lastDayOfWeek:"wqXjm",whiteBackgroundDate:"oimiR",cheapPrice:"ldzyP",averagePrice:"IVmCo",highPrice:"ahxDZ",lowPrice:"GZNTS",firstDayOfMonth:"tyNsG",lastDayOfMonth:"wNYhk",month:"CNFtj",months:"cKDuq f",paginated:"JgaNG",container:"MSVLa",minHeight:"pCcWB",wrapperDiv:"NKDMR f",fullHeight:"Bxbhu",fullWidth:"bnFns",scrollDiv:"qLckp _U l s",paginatedWrapper:"YNMfu f",legend:"lpIBS f J",stickyLegend:"doASn f s Za",lowPriceLabel:"lZZBD",heatMapLegendItemBox:"JDMNv",heatMapLegendItemBoxCheaper:"uYlMe",heatMapLegendItemBoxAverage:"nTGKd",heatMapLegendItemBoxHigher:"STYBy",heatMapLegendItem:"GPVlA f",heatMapLegendItems:"QQPYv f",heatMapFooter:"ZlHbY f",supportingTextInfiniteScroll:"c",supportingTextPaginated:"P"},L=e=>1===e.getDate(),I=e=>1===new Date(e.getTime()+864e5).getDate(),W=e=>new Date(new Date().getFullYear(),new Date().getMonth()+e,1),C=(e,a)=>[...Array(e).keys()].map(e=>new Date(a.getFullYear(),a.getMonth()+e)),O=e=>`${e.getFullYear()}-${e.getMonth()}`,S=(e,a)=>{var t=new Map;e.forEach(({monthStart:e,minPrice:a,maxPrice:n})=>t.set(O(e),{minPrice:a,maxPrice:n}));for(var n=null,r=null,i=0;i<a.length;i++){var o=a[i],d=t.get(O(o)),l=d?.minPrice,c=d?.maxPrice;null!=l&&(null===n||l<n)&&(n=l),null!=c&&(null===r||c>r)&&(r=c)}return null!=n&&null!=r?{minPrice:n,maxPrice:r}:null},B=(e,a)=>Math.ceil((new Date(e.getFullYear(),e.getMonth()+1,0).getDate()+(new Date(e.getFullYear(),e.getMonth(),1).getDay()-a+7)%7)/7),Y=(e,a,t)=>{for(var n=new Date(e),r=0;n.getMonth()<a.getMonth()||n.getFullYear()<a.getFullYear();)r+=B(n,t),n.setMonth(n.getMonth()+1);return r},T=e=>{var a=e.getDate(),t=e.getMonth()+1,n=e.getFullYear();return a=a<10?`0${a}`:a,t=t<10?`0${t}`:t,`${n}-${t}-${a}`},V=e=>[e.string("日","common_day_sun_abbr"),e.string("一","common_day_mon_abbr"),e.string("二","common_day_tue_abbr"),e.string("三","common_day_wed_abbr"),e.string("四","common_day_thu_abbr"),e.string("五","common_day_fri_abbr"),e.string("六","common_day_sat_abbr")],z=(e,a)=>[e.string("{0}年1月","common_month_year1",{0:a}),e.string("{0}年2月","common_month_year2",{0:a}),e.string("{0}年3月","common_month_year3",{0:a}),e.string("{0}年4月","common_month_year4",{0:a}),e.string("{0}年5月","common_month_year5",{0:a}),e.string("{0}年6月","common_month_year6",{0:a}),e.string("{0}年7月","common_month_year7",{0:a}),e.string("{0}年8月","common_month_year8",{0:a}),e.string("{0}年9月","common_month_year9",{0:a}),e.string("{0}年10月","common_month_year10",{0:a}),e.string("{0}年11月","common_month_year11",{0:a}),e.string("{0}年12月","common_month_year12",{0:a})],H=(e,a,t="fullMonthYear",n="oneLetter")=>{var r=b(),{localize:i}=_(),o=i.string("（优惠日）","calendar_heatmap_low_priced_date_aria_label_suffix"),d="sun"===r.getFirstDayOfWeek()?0:1,l=new Intl.DateTimeFormat(r.locale,{month:"long",day:"numeric",year:"numeric"}),c=new Intl.DateTimeFormat(r.locale,{month:"long",year:"numeric"}),s=new Intl.DateTimeFormat(r.locale,{weekday:"narrow",timeZone:"UTC"}),f=new Intl.DateTimeFormat(r.locale,{weekday:"long",timeZone:"UTC"}),h=new Set(e.map(e=>l.format(e)));return{...m.LocaleUtils,formatDay:e=>{var t=l.format(e),n=h.has(t)?` ${o}`:"",r=void 0!==a?a.get(T(e)):void 0,i=void 0!==r?` ${r}`:"";return`${t}${n}${i}`},formatMonthTitle:e=>"capitalizedFullMonthYear"===t?z(i,e.getFullYear())[e.getMonth()]:c.format(e),formatWeekdayShort:e=>"threeLetterUppercase"===n?V(i)[e%7].toUpperCase():"threeLetter"===n?V(i)[e%7]:s.format(new Date(Date.UTC(0,0,e))),formatWeekdayLong:e=>f.format(new Date(Date.UTC(0,0,e))),getFirstDayOfWeek:()=>d}},U=({onNextClick:e,onPreviousClick:a,showNextButton:r,showPreviousButton:o})=>{var{localize:d}=_(),l=i(()=>{a()},[a]),c=i(()=>{e()},[e]);return t("div",{className:"lYukI f k _Q w",children:[n(y,{variant:"clear",disabled:!o,onClick:l,icon:N,"aria-label":d.string("Previous month","tf_web_DHPDate_pagination_previous"),dataAttributes:{"data-testid":"nav_prev"}}),n(y,{variant:"clear",disabled:!r,onClick:c,icon:k,"aria-label":d.string("Next month","tf_web_DHPDate_pagination_next"),dataAttributes:{"data-testid":"nav_next"}})]})},$=(e,a)=>`${40*B(e,a)+51}px`,q=({date:e,localeUtils:a})=>n("h2",{className:F.monthName,children:a.formatMonthTitle(e,"unnused")}),A=({onVisible:e,height:a})=>{var t=D(e);return n("div",{style:{height:a},ref:t})},j=({day:e,showPrice:a,priceMap:r})=>t("div",{className:s(F.inner,{[F.strikethrough]:!!a}),children:[e.getDate(),a&&n("div",{className:F.datePrice,children:r?.get(T(e))})]}),R=({month:e,maxRangeDays:a,startDate:_,endDate:y,fromMonth:D,monthRange:k,onDateReset:N,onDateSelect:W,onDayMouseEnter:O,onDayMouseLeave:B,numberOfMonths:T,disableBefore:V,layoutStyle:z,fullHeight:H,fullWidth:U,disabledDates:R,heatMapData:E,pickerStyle:G,priceMap:Z,customModifiers:Q,resetText:J,showThreeLetterWeekday:K,tabularDayOfMonth:X=!0,dayOfWeekFontVariant:ee="default",daySize:ea,supportingText:et,onNextMonthClick:en=()=>{},onPreviousMonthClick:er=()=>{}})=>{var ei=o(()=>_?new Date(_):void 0,[_]),eo=o(()=>y?new Date(y):void 0,[y]),ed=o(()=>e?new Date(e):void 0,[e]),el=o(()=>new Date(D),[D]),ec=E?.lowPriceDays||[],es=E?.cheapPriceDays||[],em=E?.averagePriceDays||[],ef=E?.highPriceDays||[],eh=ec.length>0,eb=o(()=>"heatmap"===G?"threeLetterUppercase":K?"threeLetter":"oneLetter",[G,K]),e_=u(),eg=V??e_,eu=!eh&&(es.length>0||em.length>0||ef.length>0),ep=eh||eu,ey=!ep&&void 0!==Z&&Z.size>0,ev=P(ec,ey?Z:void 0,"heatmap"===G?"capitalizedFullMonthYear":"fullMonthYear",eb),eD=b(),ew=g(),eM=ev.getFirstDayOfWeek(ew),ek=i(({date:e})=>n(q,{date:e,localeUtils:ev}),[ev]),[eN,eP]=d(2),[ex,eF]=d(C(T,e||D)),eL=l(w),[eI,eW]=d(!(e&&D.getMonth()!==e.getMonth()));c(()=>{if(e&&eL.current){var a=e.getMonth()-D.getMonth()+(e.getFullYear()-D.getFullYear())*12;if(0!==a){var t=51*a+40*Y(D,e,eM)+20;eI?eL.current?.scrollTo({top:t}):(eL.current?.scrollTo({top:t}),eW(!0))}}},[]);var eC=new Date(D);eC.setMonth(D.getMonth()+k);var eO=f(),eS={today:s(F.day,{[F.variantNumericTabularNums]:X}),caption:F.monthName,week:s(F.week,{[F.spaced]:ey,[F.heatmap]:"heatmap"===G}),day:s(F.day,eO,{[F.withPrice]:ey,[F.variantNumericTabularNums]:X,[F.medium]:"medium"===ea}),disabled:F.disabled,outside:F.outside,selected:F.selected,weekdaysRow:s(F.daysOfWeek,F.paginated,{[F.hidden]:"infiniteVerticalScroll"===z}),weekday:s(F.dayOfWeek,"small"===ee?F.dayOfWeekFontSizeSmall:F.dayOfWeekFontSize),month:F.month,months:s(F.months,{[F.paginated]:"paginated"===z}),container:s(F.container,{[F.minHeight]:"paginated"===z}),wrapper:s(eO),interactionDisabled:"",weekdays:"",navBar:"",navButtonPrev:"",navButtonNext:"",body:"",navButtonInteractionDisabled:""},eB=p(),eY=o(()=>_&&null!=a?{before:new Date(eg),after:new Date(_.getFullYear(),_.getMonth(),_.getDate()+a-1)}:{before:new Date(eg)},[_,a,eg]),eT=W?(e,{[F.disabled]:a,[F.outside]:t})=>{(null==t||!1===t)&&W(new Date(e),a||!1)}:null,eV="MOBILE"===eB,ez="paginated"===z?ed:el,eH=ei&&eo&&{from:ei,to:eo}||void 0,eU={...ez&&{month:ez},...eH&&{selectedDays:eH}},e$=[eY];Array.isArray(R)?e$.concat(R):R&&e$.push(R);var eq=o(()=>E?.monthlyPriceRanges?S(E.monthlyPriceRanges,ex):null,[E?.monthlyPriceRanges,ex]),eA="heatmap"===G||ep&&null!=eq?t("div",{className:s(F.legend,{[F.stickyLegend]:"infiniteVerticalScroll"===z,[F.heatMapFooter]:eu}),children:["heatmap"!==G&&n("span",{className:F.lowPriceLabel,children:n(h,{id:"price_heatmap_lowest_prices_2",messages:"最低价日期"})}),eh&&null!=eq&&n("span",{children:n(h,{id:"price_heatmap_avg_daily_rates_range",args:{0:eD.formatCurrencyInteger(eq.minPrice),1:eD.formatCurrencyInteger(eq.maxPrice)},messages:"每日平均价格：{0} - {1}"})}),eu&&t(r,{children:[t("div",{className:F.heatMapLegendItems,children:[t("div",{className:F.heatMapLegendItem,children:[n("div",{className:s(F.heatMapLegendItemBox,F.heatMapLegendItemBoxCheaper)}),n(M,{variant:"supporting-01",children:n(h,{id:"hotels_price_heatmap_cheaper",messages:"更便宜"})})]}),t("div",{className:F.heatMapLegendItem,children:[n("div",{className:s(F.heatMapLegendItemBox,F.heatMapLegendItemBoxAverage)}),n(M,{variant:"supporting-01",children:n(h,{id:"hotels_price_heatmap_average",messages:"平均"})})]}),t("div",{className:F.heatMapLegendItem,children:[n("div",{className:s(F.heatMapLegendItemBox,F.heatMapLegendItemBoxHigher)}),n(M,{variant:"supporting-01",children:n(h,{id:"hotels_price_heatmap_higher",messages:"更高"})})]})]}),n(M,{variant:"supporting-01",children:n(h,{id:"hotels_average_prices_for_one_night_stay",messages:"一晚住宿的平均价格"})})]})]}):null;return t("div",{className:s(F.wrapperDiv,{[F.fullHeight]:!!H,[F.fullWidth]:!!U}),"data-automation":"dayCalendar",children:[n("div",{className:F.stickyDaysOfWeekHeader,children:n("div",{className:s(F.daysOfWeek,{[F.hidden]:"paginated"===z}),children:[0,1,2,3,4,5,6].map(e=>n("div",{className:F.dayOfWeek,children:ev.formatWeekdayShort(e+eM,ew)},e))})}),t("div",{className:"infiniteVerticalScroll"===z?F.scrollDiv:F.paginatedWrapper,children:[n(m,{...eU,localeUtils:ev,locale:ew,disabledDays:e$,modifiers:{[F.startDate]:[_],[F.endDate]:[y],[F.withPrice]:[ey?_:void 0],[F.whiteBackgroundDate]:[null==y||_&&+_==+y?_:void 0],[F.lowPrice]:eh?ec:[],[F.cheapPrice]:eu?es:[],[F.averagePrice]:eu?em:[],[F.highPrice]:eu?ef:[],[F.firstDayOfMonth]:L,[F.lastDayOfMonth]:I,[F.firstDayOfWeek]:{daysOfWeek:[eM]},[F.lastDayOfWeek]:{daysOfWeek:[(eM+6)%7]},...Q,today:void 0,outside:void 0},fromMonth:el,toMonth:eC,classNames:eS,renderDay:e=>n(j,{day:e,showPrice:ey,priceMap:Z}),...eT&&{onDayClick:eT},onDayMouseEnter:O?(e,{[F.disabled]:a,[F.outside]:t},n)=>{O(new Date(e),a||t||!1,n)}:void 0,onDayMouseLeave:B?(e,{[F.disabled]:a,[F.outside]:t},n)=>{B(new Date(e),a||t||!1,n)}:void 0,numberOfMonths:"paginated"===z?T:eN,navbarElement:e=>"paginated"===z?n(x,{...e,onNextClick:(...a)=>{e.onNextClick(...a),en()},onPreviousClick:(...a)=>{e.onPreviousClick(...a),er()}}):null,onMonthChange:e=>eF(C(T,e)),captionElement:ek,showOutsideDays:!0}),"paginated"===z&&null!=eA&&eA,et&&!eV&&n("div",{className:s({[F.supportingTextInfiniteScroll]:"infiniteVerticalScroll"===z,[F.supportingTextPaginated]:"paginated"===z}),children:n(M,{variant:"supporting-01",children:et})}),N&&!eV&&n(v,{onClick:N,children:J??n(h,{id:"sng_fusion_list_filters_modal_reset",messages:"重置"})}),"infiniteVerticalScroll"===z&&[...Array(k-2)].map((e,a)=>{var t=new Date(D.getFullYear(),D.getMonth()+a+1,0);return n(A,{height:a+2<eN?"0":$(t,eM),onVisible:()=>{eP(e=>Math.min(k,Math.max(a+2+1,e)))}},t.toString())})]}),"infiniteVerticalScroll"===z&&null!=eA&&eA]})},E=e=>n(R,{...e,pickerStyle:"default"});return[()=>{P=H,x=U,e({BaseCalendarPicker:R,default:E,monthDateFromOffset:W,weekRowsBetweenMonths:Y})},[e=>(t=e.jsxs,n=e.jsx,r=e.Fragment),e=>(i=e.useCallback,o=e.useMemo,d=e.useState,l=e.useContext,c=e.useEffect),e=>s=e.default,e=>m=e.default,e=>f=e.useKeyboardFocusableClassName,e=>(h=e.default,b=e.useIntlFormatter,_=e.useLocalize,g=e.useLocale),e=>u=e.useToday,e=>p=e.useViewportCategory,e=>(y=e.CircularButton,v=e.BorderlessButton),e=>D=e.useOnVisible,e=>w=e.ScrollRefContext,e=>M=e.default,e=>k=e.default,e=>N=e.default]]},["21h32l","o4yt4q","fkji80","pn8thk","2r4qug","7thqz4","kb5au4","ys6v1o","jppfwt","3btuy0","i3sz5h","essqvy","7a7jm3","7nq86i"]]);
